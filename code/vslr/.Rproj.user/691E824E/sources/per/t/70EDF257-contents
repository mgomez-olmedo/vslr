# include required source files
source("./R/VSLearning.R")
source("./R/ScoreComputation.R")
source("./R/ScoreHash.R")
source("./R/VSEvolutionInfo.R")
source("./R/QMatrix.R")

# initializes the random number generation for being able to reproduce
# the results
set.seed(0)

# sets the number of decimals
options(digits = 4)

# sets the number of parents to sample
nparentsets <- 100

# sets the test dataset
testdbname <- "./data/alarm/10000/alarm-10000-1.csv"

# sets the initialization method: model learnt with bnlearn hc
# algorithm
initmethod <- 4

# uses each of the train datasets
for(index in 1:5){
  # composes the base name
  dbname <- "./data/alarm/600/alarm-600-"
  dbname <- paste0(dbname, index)
  dbname <- paste0(dbname, ".csv")

  # creates VSLearning object
  vsl <- VSLearning$new(dbname, testdbname, initmethod, nparentsets)

  # calls learn method
  vsl$learn()
}

